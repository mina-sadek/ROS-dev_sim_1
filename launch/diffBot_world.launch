<?xml version="1.0" encoding="UTF-8"?>

<launch>  

  <!-- Robot Parameters -->
  <param name="robot_description" command="$(find xacro)/xacro.py '$(find diffBot_000)/models/diffBot/urdf/diffBot.xacro'" />

  <arg name="x" default="0.1"/>
  <arg name="y" default="0.1"/>
  <arg name="z" default="0.1"/>
  <!-- ================ -->

  <!-- World Parameters -->
  <arg name="world_file" default="world1"/>
  <!-- ================ -->


  <include file="$(find diffBot_000)/launch/$(arg world_file).launch" />
<!--  Include launch.xml if needed -->



  <!-- Spawn The Robot -->
  <node name="mybot_spawn" pkg="gazebo_ros" type="spawn_model" output="screen"
    args="-urdf -param robot_description -model diffBot -x $(arg x) -y $(arg y) -z $(arg z)" launch-prefix="bash -c 'sleep 5.0; $0 $@' " />
  <!-- ================ -->

  <!-- Run teleop_twist_keyboard node -->
  <node name="teleop_twist_keyboard" pkg="teleop_twist_keyboard" type="teleop_twist_keyboard.py" output="screen" launch-prefix="bash -c 'sleep 8.0; $0 $@' ">
    <remap from="/cmd_vel" to="/diffBot/cmd_vel" />
  </node>
  <!-- ================ -->

</launch>
